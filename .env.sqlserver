# ================================================================================
# CONFIGURACI√ìN CENTRALIZADA SQL SERVER - SISTEMA LPDP
# ================================================================================
# Este archivo centraliza TODAS las variables de entorno para SQL Server
# Reemplaza todos los archivos .env anteriores (supabase, postgresql, etc.)
# ================================================================================

# =============================================================================
# CONFIGURACI√ìN DE SQL SERVER (Principal)
# =============================================================================

# Servidor SQL Server (nombre de la instancia Windows)
DB_SERVER=PASC

# Base de datos
DB_DATABASE=LPDP_Test

# Driver ODBC
DB_DRIVER=ODBC Driver 18 for SQL Server

# Pool de conexiones
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# CONFIGURACI√ìN DEL BACKEND (Python/FastAPI)
# =============================================================================

# Configuraci√≥n b√°sica
PROJECT_NAME=Sistema LPDP
VERSION=3.0.0
DESCRIPTION=Sistema LPDP con SQL Server Centralizado

# Entorno
ENVIRONMENT=development
DEBUG=true
HOST=0.0.0.0
PORT=8000

# Seguridad
SECRET_KEY=lpdp-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_SALT=lpdp-password-salt-change-in-production

# CORS
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://scldp-frontend.onrender.com

# Multi-tenant
TENANT_SCHEMA_PREFIX=tenant_
TENANT_DEFAULT_SCHEMA=public
MAX_TENANT_SCHEMAS=100

# =============================================================================
# CONFIGURACI√ìN DEL FRONTEND (React)
# =============================================================================

# URL del backend
REACT_APP_BACKEND_URL=http://localhost:8000

# Configuraci√≥n de cliente
REACT_APP_CLIENT_VERSION=3.0.0
REACT_APP_DATABASE_TYPE=SQLServer

# Desactivar configuraciones obsoletas
REACT_APP_USE_SUPABASE=false
REACT_APP_USE_POSTGRESQL=false

# =============================================================================
# CONFIGURACIONES OBSOLETAS (mantenidas para compatibilidad)
# =============================================================================

# OBSOLETO: Supabase (ya no se usa)
# SUPABASE_URL=https://symkjkbejxexgrydmvqs.supabase.co
# SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# Estas variables est√°n comentadas porque ya no se usan

# OBSOLETO: PostgreSQL directo (ya no se usa)
# DATABASE_URL=postgresql://user:password@localhost:5432/lpdp
# Esta variable est√° comentada porque ya no se usa

# =============================================================================
# CONFIGURACI√ìN OPCIONAL (Email, Logs, etc.)
# =============================================================================

# Email (opcional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-password
# SMTP_TLS=true

# Logs
LOG_LEVEL=INFO
# LOG_FILE=/path/to/logfile.log

# =============================================================================
# INSTRUCCIONES DE USO
# =============================================================================

# 1. Copiar este archivo a .env en el directorio ra√≠z:
#    cp .env.sqlserver .env

# 2. Ajustar variables seg√∫n el entorno:
#    - Para desarrollo: usar valores por defecto
#    - Para producci√≥n: cambiar SECRET_KEY, PASSWORD_SALT, etc.

# 3. El sistema autom√°ticamente usar√° estas variables:
#    - Backend Python: lee con os.getenv()
#    - Frontend React: lee REACT_APP_* variables
#    - database_config.py: usa DB_* variables

# 4. Verificar conexi√≥n:
#    python -c "from database_config import test_database_connection; print(test_database_connection())"

# =============================================================================
# NOTAS DE MIGRACI√ìN
# =============================================================================

# ‚úÖ MIGRACI√ìN COMPLETADA DE:
# - Supabase Cloud ‚Üí SQL Server local
# - PostgreSQL ‚Üí SQL Server
# - M√∫ltiples archivos .env ‚Üí Un solo archivo centralizado

# üîß CONFIGURACI√ìN ACTUAL:
# - Servidor: PASC (Windows local)
# - Base de datos: LPDP_Test
# - Autenticaci√≥n: Windows (Trusted_Connection=yes)
# - Driver: ODBC Driver 18 for SQL Server

# üìÅ ARCHIVOS AFECTADOS:
# - backend/app/core/database.py ‚úÖ MIGRADO
# - backend/app/core/config.py ‚úÖ MIGRADO  
# - frontend/src/config/supabaseClient.js ‚úÖ MIGRADO
# - database_config.py ‚úÖ CREADO (archivo principal)

# üéØ PR√ìXIMOS PASOS:
# - Ejecutar: cp .env.sqlserver .env
# - Verificar conexi√≥n SQL Server
# - Inicializar tablas: python -c "from database_config import init_database; init_database()"
# - Iniciar backend: uvicorn backend.app.main:app --reload
# - Iniciar frontend: npm start