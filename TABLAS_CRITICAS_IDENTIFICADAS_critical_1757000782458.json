{
  "audit_id": "critical_1757000782458",
  "timestamp": "2025-09-04T15:46:23.085Z",
  "type": "CRITICAL_TABLES_IDENTIFICATION",
  "summary": {
    "total_tables_in_schema": 114,
    "critical_tables_identified": 40,
    "redundant_tables": 34,
    "orphan_tables": 38,
    "tables_to_eliminate": 72,
    "reduction_percentage": 63,
    "analysis_time_ms": 622
  },
  "critical_tables": {
    "actividades_dpo": {
      "criticality_level": "CRITICAL",
      "score": 200,
      "reasons": [
        "Usado en 15 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 15,
      "files_using": [
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/components/ComplianceMetrics.js",
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/debug_rat_id.js",
        "/frontend/src/services/dataSync.js",
        "/frontend/src/services/partnerSyncEngine.js",
        "/frontend/src/services/ratIntelligenceEngine.js",
        "/frontend/src/services/riskCalculationEngine.js",
        "/frontend/src/services/specificCasesEngine.js",
        "/frontend/src/services/testBalancingEngine.js",
        "/frontend/src/utils/aiSupervisor.js",
        "/frontend/src/utils/databaseHealthMonitor.js",
        "/frontend/src/utils/errorPreventionMonitor.js",
        "/frontend/src/utils/logicAuditor.js",
        "/frontend/src/utils/supabaseRLSGuard.js"
      ]
    },
    "activities": {
      "criticality_level": "CRITICAL",
      "score": 130,
      "reasons": [
        "Usado en 5 archivos",
        "Tabla core del sistema LPDP",
        "Tabla de seguridad/auditoría"
      ],
      "usage_count": 5,
      "files_using": [
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/components/CalendarView.js",
        "/frontend/src/debug_rat_id.js",
        "/frontend/src/services/ratIntelligenceEngine.js",
        "/frontend/src/utils/iaAgentReporter.js"
      ]
    },
    "agent_activity_log": {
      "criticality_level": "HIGH",
      "score": 30,
      "reasons": [
        "Usado en 3 archivos"
      ],
      "usage_count": 3,
      "files_using": [
        "/frontend/src/services/api.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/iaAgentReporter.js"
      ]
    },
    "audit_log": {
      "criticality_level": "CRITICAL",
      "score": 100,
      "reasons": [
        "Usado en 2 archivos",
        "Tabla core del sistema LPDP",
        "Tabla de seguridad/auditoría"
      ],
      "usage_count": 2,
      "files_using": [
        "/frontend/src/components/APIPartnersIntegration.js",
        "/frontend/src/components/ReportGenerator.js"
      ]
    },
    "audit_logs": {
      "criticality_level": "CRITICAL",
      "score": 100,
      "reasons": [
        "Usado en 2 archivos",
        "Tabla core del sistema LPDP",
        "Tabla de seguridad/auditoría"
      ],
      "usage_count": 2,
      "files_using": [
        "/frontend/src/components/ImmutableAuditLog.js",
        "/frontend/src/pages/AdminDashboard.js"
      ]
    },
    "categories": {
      "criticality_level": "HIGH",
      "score": 30,
      "reasons": [
        "Usado en 3 archivos"
      ],
      "usage_count": 3,
      "files_using": [
        "/frontend/src/components/EIPDTemplates.js",
        "/frontend/src/utils/humanInteractionSimulator.js",
        "/frontend/src/utils/smartDeduplication.js"
      ]
    },
    "compliance_records": {
      "criticality_level": "HIGH",
      "score": 50,
      "reasons": [
        "Usado en 1 archivos",
        "Funcionalidad principal LPDP"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/utils/dynamicLegalRules.js"
      ]
    },
    "compliance_reports": {
      "criticality_level": "HIGH",
      "score": 40,
      "reasons": [
        "Funcionalidad principal LPDP"
      ],
      "usage_count": 0,
      "files_using": []
    },
    "documentos_generados": {
      "criticality_level": "CRITICAL",
      "score": 60,
      "reasons": [
        "Usado en 1 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/services/specificCasesEngine.js"
      ]
    },
    "dpa_documents": {
      "criticality_level": "HIGH",
      "score": 50,
      "reasons": [
        "Usado en 1 archivos",
        "Funcionalidad principal LPDP"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/utils/aiSupervisor.js"
      ]
    },
    "dpas": {
      "criticality_level": "CRITICAL",
      "score": 110,
      "reasons": [
        "Usado en 7 archivos",
        "Funcionalidad principal LPDP"
      ],
      "usage_count": 7,
      "files_using": [
        "/frontend/src/components/CalendarView.js",
        "/frontend/src/components/ComplianceDashboard.js",
        "/frontend/src/components/GestionProveedores.js",
        "/frontend/src/components/ProcesoCompleto.js",
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/pages/ProviderManager.js",
        "/frontend/src/services/proveedoresService.js"
      ]
    },
    "dpia": {
      "criticality_level": "CRITICAL",
      "score": 130,
      "reasons": [
        "Usado en 13 archivos"
      ],
      "usage_count": 13,
      "files_using": [
        "/frontend/src/App.js",
        "/frontend/src/components/ProcesoCompleto.js",
        "/frontend/src/components/RATFormWithCompliance.js",
        "/frontend/src/components/RATSystemProfessional.js",
        "/frontend/src/pages/DPIAAlgoritmos.js",
        "/frontend/src/pages/DashboardDPO.js",
        "/frontend/src/pages/EIPDListPage.js",
        "/frontend/src/pages/GestionAsociaciones.js",
        "/frontend/src/pages/GlosarioLPDP.js",
        "/frontend/src/pages/SistemaPrincipal.js",
        "/frontend/src/services/ratIntelligenceEngine.js",
        "/frontend/src/services/riskCalculationEngine.js",
        "/frontend/src/tests/userSimulation.test.js"
      ]
    },
    "dpo_notifications": {
      "criticality_level": "CRITICAL",
      "score": 60,
      "reasons": [
        "Usado en 6 archivos"
      ],
      "usage_count": 6,
      "files_using": [
        "/frontend/src/components/NotificationCenter.js",
        "/frontend/src/components/RATSystemProfessional.js",
        "/frontend/src/debug_rat_id.js",
        "/frontend/src/services/riskCalculationEngine.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/iaAgentReporter.js"
      ]
    },
    "eipd_documents": {
      "criticality_level": "CRITICAL",
      "score": 60,
      "reasons": [
        "Usado en 2 archivos",
        "Funcionalidad principal LPDP"
      ],
      "usage_count": 2,
      "files_using": [
        "/frontend/src/utils/aiSupervisor.js",
        "/frontend/src/utils/completeSystemTester.js"
      ]
    },
    "empresas": {
      "criticality_level": "CRITICAL",
      "score": 70,
      "reasons": [
        "Usado en 5 archivos",
        "Multi-tenant crítico"
      ],
      "usage_count": 5,
      "files_using": [
        "/frontend/src/components/RATFormWithCompliance.js",
        "/frontend/src/components/admin/AdminPanel.js",
        "/frontend/src/pages/AdminDashboard.js",
        "/frontend/src/pages/GlosarioLPDP.js",
        "/frontend/src/pages/SistemaPrincipal.js"
      ]
    },
    "evaluaciones_impacto": {
      "criticality_level": "CRITICAL",
      "score": 70,
      "reasons": [
        "Usado en 3 archivos",
        "Funcionalidad principal LPDP"
      ],
      "usage_count": 3,
      "files_using": [
        "/frontend/src/components/RATSystemProfessional.js",
        "/frontend/src/pages/EIPDCreator.js",
        "/frontend/src/pages/EIPDListPage.js"
      ]
    },
    "generated_documents": {
      "criticality_level": "CRITICAL",
      "score": 120,
      "reasons": [
        "Usado en 7 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 7,
      "files_using": [
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/debug_rat_id.js",
        "/frontend/src/services/dataSync.js",
        "/frontend/src/services/partnerSyncEngine.js",
        "/frontend/src/services/riskCalculationEngine.js",
        "/frontend/src/utils/iaAgentReporter.js",
        "/frontend/src/utils/logicAuditor.js"
      ]
    },
    "legal_articles": {
      "criticality_level": "HIGH",
      "score": 50,
      "reasons": [
        "Usado en 1 archivos",
        "Funcionalidad principal LPDP"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/utils/dynamicLegalRules.js"
      ]
    },
    "mapeo_datos_rat": {
      "criticality_level": "CRITICAL",
      "score": 250,
      "reasons": [
        "Usado en 20 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 20,
      "files_using": [
        "/frontend/src/components/ComplianceMetrics.js",
        "/frontend/src/components/RATEditPage.js",
        "/frontend/src/components/RATSystemProfessional.js",
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/debug_rat_id.js",
        "/frontend/src/pages/AdminDashboard.js",
        "/frontend/src/pages/DPOApprovalQueue.js",
        "/frontend/src/pages/RATListPage.js",
        "/frontend/src/services/api.js",
        "/frontend/src/services/categoryAnalysisEngine.js",
        "/frontend/src/services/dataSync.js",
        "/frontend/src/services/partnerSyncEngine.js",
        "/frontend/src/services/ratService.js",
        "/frontend/src/services/specificCasesEngine.js",
        "/frontend/src/services/testBalancingEngine.js",
        "/frontend/src/utils/dataIntegrityValidator.js",
        "/frontend/src/utils/databaseHealthMonitor.js",
        "/frontend/src/utils/errorPreventionMonitor.js",
        "/frontend/src/utils/logicAuditor.js",
        "/frontend/src/utils/supabaseRLSGuard.js"
      ]
    },
    "notifications": {
      "criticality_level": "CRITICAL",
      "score": 200,
      "reasons": [
        "Usado en 15 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 15,
      "files_using": [
        "/frontend/src/App.js",
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/components/CalendarView.js",
        "/frontend/src/components/NotificationCenter.js",
        "/frontend/src/components/ProviderManager.js",
        "/frontend/src/components/admin/AdminPanel.js",
        "/frontend/src/pages/AdminDashboard.js",
        "/frontend/src/pages/DPOApprovalQueue.js",
        "/frontend/src/pages/DashboardDPO.js",
        "/frontend/src/pages/SistemaPrincipal.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/databaseHealthMonitor.js",
        "/frontend/src/utils/errorMonitoringOnly.js",
        "/frontend/src/utils/frontendValidator.js",
        "/frontend/src/utils/iaAgentReporter.js"
      ]
    },
    "organizaciones": {
      "criticality_level": "CRITICAL",
      "score": 330,
      "reasons": [
        "Usado en 26 archivos",
        "Tabla core del sistema LPDP",
        "Multi-tenant crítico"
      ],
      "usage_count": 26,
      "files_using": [
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/components/DPAGenerator.js",
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/components/admin/UsageDashboard.js",
        "/frontend/src/config/supabaseClient.js",
        "/frontend/src/contexts/TenantContext.js",
        "/frontend/src/pages/AdminPanel.js",
        "/frontend/src/pages/GlosarioLPDP.js",
        "/frontend/src/pages/RATListPage.js",
        "/frontend/src/services/api.js",
        "/frontend/src/services/categoryAnalysisEngine.js",
        "/frontend/src/services/dataSync.js",
        "/frontend/src/services/partnerSyncEngine.js",
        "/frontend/src/services/proveedoresService.js",
        "/frontend/src/services/specificCasesEngine.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/dataIntegrityValidator.js",
        "/frontend/src/utils/databaseHealthMonitor.js",
        "/frontend/src/utils/errorPreventionMonitor.js",
        "/frontend/src/utils/frontendValidator.js",
        "/frontend/src/utils/humanInteractionSimulator.js",
        "/frontend/src/utils/iaAgentReporter.js",
        "/frontend/src/utils/index.js",
        "/frontend/src/utils/instantSystemTest.js",
        "/frontend/src/utils/supabaseAuditor.js",
        "/frontend/src/utils/supabaseRLSGuard.js"
      ]
    },
    "partner_access_logs": {
      "criticality_level": "HIGH",
      "score": 30,
      "reasons": [
        "Tabla de seguridad/auditoría"
      ],
      "usage_count": 0,
      "files_using": []
    },
    "proveedores": {
      "criticality_level": "CRITICAL",
      "score": 370,
      "reasons": [
        "Usado en 32 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 32,
      "files_using": [
        "/frontend/src/App.js",
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/components/ComplianceDashboard.js",
        "/frontend/src/components/DPAGenerator.js",
        "/frontend/src/components/EIPDTemplates.js",
        "/frontend/src/components/GestionProveedores.js",
        "/frontend/src/components/Layout.js",
        "/frontend/src/components/LayoutSimple.js",
        "/frontend/src/components/ProviderManager.js",
        "/frontend/src/components/RATEditPage.js",
        "/frontend/src/components/RATSystemProfessional.js",
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/pages/EIPDCreator.js",
        "/frontend/src/pages/GlosarioLPDP.js",
        "/frontend/src/pages/ProviderManager.js",
        "/frontend/src/pages/RATEditPage.js",
        "/frontend/src/pages/SistemaPrincipal.js",
        "/frontend/src/services/api.js",
        "/frontend/src/services/partnerSyncEngine.js",
        "/frontend/src/services/proveedoresService.js",
        "/frontend/src/services/ratIntelligenceEngine.js",
        "/frontend/src/services/riskCalculationEngine.js",
        "/frontend/src/tests/userSimulation.test.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/dataIntegrityValidator.js",
        "/frontend/src/utils/databaseHealthMonitor.js",
        "/frontend/src/utils/errorPreventionMonitor.js",
        "/frontend/src/utils/humanInteractionSimulator.js",
        "/frontend/src/utils/instantSystemTest.js",
        "/frontend/src/utils/smartDeduplication.js",
        "/frontend/src/utils/supabaseAuditor.js",
        "/frontend/src/utils/supabaseRLSGuard.js"
      ]
    },
    "rat_proveedores": {
      "criticality_level": "HIGH",
      "score": 40,
      "reasons": [
        "Usado en 4 archivos"
      ],
      "usage_count": 4,
      "files_using": [
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/debug_rat_id.js",
        "/frontend/src/services/partnerSyncEngine.js",
        "/frontend/src/services/proveedoresService.js"
      ]
    },
    "rats": {
      "criticality_level": "CRITICAL",
      "score": 450,
      "reasons": [
        "Usado en 40 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 40,
      "files_using": [
        "/frontend/src/components/APIPartnersIntegration.js",
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/components/CalendarView.js",
        "/frontend/src/components/ComplianceMetrics.js",
        "/frontend/src/components/EmpresaDataManager.js",
        "/frontend/src/components/Layout.js",
        "/frontend/src/components/PresentacionModuloCero.js",
        "/frontend/src/components/RATEditPage.js",
        "/frontend/src/components/RATListPage.js",
        "/frontend/src/components/RATSearchFilter.js",
        "/frontend/src/components/RATSystemProfessional.js",
        "/frontend/src/components/ReportGenerator.js",
        "/frontend/src/components/admin/IAAgentStatusPage.js",
        "/frontend/src/components/admin/UsageDashboard.js",
        "/frontend/src/hooks/useDataSync.js",
        "/frontend/src/pages/AdminDashboard.js",
        "/frontend/src/pages/DPOApprovalQueue.js",
        "/frontend/src/pages/Dashboard.js",
        "/frontend/src/pages/DashboardDPO.js",
        "/frontend/src/pages/GestionAsociaciones.js",
        "/frontend/src/pages/RATEditPage.js",
        "/frontend/src/pages/RATListPage.js",
        "/frontend/src/pages/SistemaPrincipal.js",
        "/frontend/src/sdk/LPDPHubSDK.js",
        "/frontend/src/services/dataSync.js",
        "/frontend/src/services/partnerSyncEngine.js",
        "/frontend/src/tests/userSimulation.test.js",
        "/frontend/src/utils/aiSupervisor.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/databaseHealthMonitor.js",
        "/frontend/src/utils/errorMonitoringOnly.js",
        "/frontend/src/utils/errorPreventionMonitor.js",
        "/frontend/src/utils/humanInteractionSimulator.js",
        "/frontend/src/utils/iaAgentReporter.js",
        "/frontend/src/utils/instantSystemTest.js",
        "/frontend/src/utils/logicAuditor.js",
        "/frontend/src/utils/preventiveAI_DISABLED.js",
        "/frontend/src/utils/smartDeduplication.js",
        "/frontend/src/utils/supabaseAuditor.js",
        "/frontend/src/utils/supabaseRLSGuard.js"
      ]
    },
    "reports": {
      "criticality_level": "HIGH",
      "score": 30,
      "reasons": [
        "Usado en 3 archivos"
      ],
      "usage_count": 3,
      "files_using": [
        "/frontend/src/App.js",
        "/frontend/src/components/APIPartnersIntegration.js",
        "/frontend/src/pages/SistemaPrincipal.js"
      ]
    },
    "system_alerts": {
      "criticality_level": "HIGH",
      "score": 50,
      "reasons": [
        "Usado en 2 archivos",
        "Tabla de seguridad/auditoría"
      ],
      "usage_count": 2,
      "files_using": [
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/services/riskCalculationEngine.js"
      ]
    },
    "system_config": {
      "criticality_level": "HIGH",
      "score": 55,
      "reasons": [
        "Usado en 3 archivos",
        "Configuración crítica del sistema"
      ],
      "usage_count": 3,
      "files_using": [
        "/frontend/src/utils/aiSupervisor.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/fileErrorLogger.js"
      ]
    },
    "system_error_logs": {
      "criticality_level": "HIGH",
      "score": 50,
      "reasons": [
        "Usado en 2 archivos",
        "Tabla de seguridad/auditoría"
      ],
      "usage_count": 2,
      "files_using": [
        "/frontend/src/utils/supabaseAuditor.js",
        "/frontend/src/utils/supabaseErrorLogger.js"
      ]
    },
    "tenant_configs": {
      "criticality_level": "HIGH",
      "score": 45,
      "reasons": [
        "Configuración crítica del sistema",
        "Multi-tenant crítico"
      ],
      "usage_count": 0,
      "files_using": []
    },
    "tenant_limits": {
      "criticality_level": "HIGH",
      "score": 55,
      "reasons": [
        "Usado en 1 archivos",
        "Configuración crítica del sistema",
        "Multi-tenant crítico"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/components/admin/UsageDashboard.js"
      ]
    },
    "tenant_settings": {
      "criticality_level": "HIGH",
      "score": 45,
      "reasons": [
        "Configuración crítica del sistema",
        "Multi-tenant crítico"
      ],
      "usage_count": 0,
      "files_using": []
    },
    "tenant_usage": {
      "criticality_level": "HIGH",
      "score": 30,
      "reasons": [
        "Usado en 1 archivos",
        "Multi-tenant crítico"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/components/admin/UsageDashboard.js"
      ]
    },
    "tenants": {
      "criticality_level": "CRITICAL",
      "score": 110,
      "reasons": [
        "Usado en 4 archivos",
        "Tabla core del sistema LPDP",
        "Multi-tenant crítico"
      ],
      "usage_count": 4,
      "files_using": [
        "/frontend/src/components/ImmutableAuditLog.js",
        "/frontend/src/contexts/TenantContext.js",
        "/frontend/src/pages/AdminDashboard.js",
        "/frontend/src/services/proveedoresService.js"
      ]
    },
    "user_help_stats": {
      "criticality_level": "HIGH",
      "score": 30,
      "reasons": [
        "Usado en 1 archivos",
        "Multi-tenant crítico"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/utils/interactiveHelper.js"
      ]
    },
    "user_notifications": {
      "criticality_level": "HIGH",
      "score": 30,
      "reasons": [
        "Usado en 1 archivos",
        "Multi-tenant crítico"
      ],
      "usage_count": 1,
      "files_using": [
        "/frontend/src/utils/aiSupervisor.js"
      ]
    },
    "user_preferences": {
      "criticality_level": "HIGH",
      "score": 45,
      "reasons": [
        "Configuración crítica del sistema",
        "Multi-tenant crítico"
      ],
      "usage_count": 0,
      "files_using": []
    },
    "user_sessions": {
      "criticality_level": "CRITICAL",
      "score": 160,
      "reasons": [
        "Usado en 6 archivos",
        "Tabla core del sistema LPDP",
        "Tabla de seguridad/auditoría",
        "Multi-tenant crítico"
      ],
      "usage_count": 6,
      "files_using": [
        "/frontend/src/config/supabaseClient.js",
        "/frontend/src/contexts/TenantContext.js",
        "/frontend/src/services/proveedoresService.js",
        "/frontend/src/services/ratService.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/iaAgentReporter.js"
      ]
    },
    "users": {
      "criticality_level": "CRITICAL",
      "score": 120,
      "reasons": [
        "Usado en 5 archivos",
        "Tabla core del sistema LPDP",
        "Multi-tenant crítico"
      ],
      "usage_count": 5,
      "files_using": [
        "/frontend/src/App.js",
        "/frontend/src/components/admin/UsageDashboard.js",
        "/frontend/src/components/admin/UserManagement.js",
        "/frontend/src/pages/AdminDashboard.js",
        "/frontend/src/utils/supabaseAuditor.js"
      ]
    },
    "usuarios": {
      "criticality_level": "CRITICAL",
      "score": 210,
      "reasons": [
        "Usado en 16 archivos",
        "Tabla core del sistema LPDP"
      ],
      "usage_count": 16,
      "files_using": [
        "/frontend/src/components/AdminDashboard.js",
        "/frontend/src/components/ImmutableAuditLog.js",
        "/frontend/src/components/NotificationCenter.js",
        "/frontend/src/components/__tests__/AdminDashboard.test.js",
        "/frontend/src/components/admin/AdminPanel.js",
        "/frontend/src/components/admin/IAAgentStatusPage.js",
        "/frontend/src/components/admin/UsageDashboard.js",
        "/frontend/src/components/admin/UserManagement.js",
        "/frontend/src/pages/AdminDashboard.js",
        "/frontend/src/pages/AdminPanel.js",
        "/frontend/src/pages/EIPDListPage.js",
        "/frontend/src/pages/GlosarioLPDP.js",
        "/frontend/src/pages/PaletaColores.js",
        "/frontend/src/services/api.js",
        "/frontend/src/utils/completeSystemTester.js",
        "/frontend/src/utils/iaAgentReporter.js"
      ]
    }
  },
  "elimination_candidates": {
    "orphan_tables": [
      {
        "table": "agent_corrections",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "ai_learning_patterns",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "ai_prevenciones_log",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "ai_validation_log",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "arcopol",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "autofix_log",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "breaches",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "client_companies",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "company_quotas",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "company_usage_metrics",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "company_users",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "company_workspaces",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "compliance_triggers_log",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "consents",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "critical_incidents",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "documentos_asociados",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "evaluaciones_impacto_privacidad",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "industry_configurations",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "interviews",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "migration_log",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "modulos_acceso",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "operation_validation_log",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "partner_api_keys",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "partner_usage_stats",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "partner_webhooks",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "persistence_validation_log",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "rat_processes",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "rat_saved_filters",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "rat_snapshots",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "review_queue",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "sandbox_assessments",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "sandbox_data_flows",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "sandbox_generated_documents",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "sandbox_rat_activities",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "sandbox_sessions",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "session_data",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "system_stats",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      },
      {
        "table": "training",
        "reason": "No utilizada en el código",
        "recommendation": "ELIMINAR - No hay referencias en el código"
      }
    ],
    "redundant_tables": [
      {
        "table": "ai_supervision_log",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/aiSupervisor.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "api_partners",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/APIPartnersIntegration.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "api_usage_metrics",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/APIPartnersIntegration.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "best_practices",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/dynamicLegalRules.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "completion_log",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/interactiveHelper.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "completion_templates",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/interactiveHelper.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "documentos_dpa",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/DPAGenerator.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "dpo_activities_fallback",
        "usage_count": 1,
        "files": [
          "/frontend/src/services/ratIntelligenceEngine.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "error_logs",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/iaAgentReporter.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "evaluaciones_seguridad",
        "usage_count": 1,
        "files": [
          "/frontend/src/services/proveedoresService.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "field_progress",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/interactiveHelper.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "finalidad_templates",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/semanticValidator.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "frontend_validation_reports",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/frontendValidator.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "help_content",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/interactiveHelper.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "help_usage_log",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/interactiveHelper.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "law_updates",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/dynamicLegalRules.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "legal_rules",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/dynamicLegalRules.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "partner_integrations",
        "usage_count": 1,
        "files": [
          "/frontend/src/pages/RATListPage.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "partner_tokens",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/APIPartnersIntegration.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "rat_audit_trail",
        "usage_count": 1,
        "files": [
          "/frontend/src/debug_rat_id.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "rat_document_assignments",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/aiSupervisor.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "rat_eipd_associations",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/RATSystemProfessional.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "rule_execution_log",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/dynamicLegalRules.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "sandbox_professional_templates",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/EIPDTemplates.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "semantic_validation_rules",
        "usage_count": 1,
        "files": [
          "/frontend/src/utils/semanticValidator.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "webhook_configs",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/APIPartnersIntegration.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "webhook_deliveries",
        "usage_count": 1,
        "files": [
          "/frontend/src/components/APIPartnersIntegration.js"
        ],
        "reason": "Uso muy bajo - posible redundancia",
        "recommendation": "REVISAR - Considerar consolidar o eliminar"
      },
      {
        "table": "ia_agent_reports",
        "usage_count": 2,
        "reason": "Duplica funcionalidad de activities",
        "group": "audit",
        "recommendation": "CONSOLIDAR - Migrar datos y eliminar tabla duplicada"
      },
      {
        "table": "documentos_dpa",
        "usage_count": 1,
        "reason": "Duplica funcionalidad de generated_documents",
        "group": "documents",
        "recommendation": "CONSOLIDAR - Migrar datos y eliminar tabla duplicada"
      },
      {
        "table": "session_data",
        "usage_count": 0,
        "reason": "Duplica funcionalidad de user_sessions",
        "group": "sessions",
        "recommendation": "CONSOLIDAR - Migrar datos y eliminar tabla duplicada"
      },
      {
        "table": "sandbox_sessions",
        "usage_count": 0,
        "reason": "Duplica funcionalidad de user_sessions",
        "group": "sessions",
        "recommendation": "CONSOLIDAR - Migrar datos y eliminar tabla duplicada"
      },
      {
        "table": "error_logs",
        "usage_count": 1,
        "reason": "Duplica funcionalidad de system_error_logs",
        "group": "errors",
        "recommendation": "CONSOLIDAR - Migrar datos y eliminar tabla duplicada"
      },
      {
        "table": "company_usage_metrics",
        "usage_count": 0,
        "reason": "Duplica funcionalidad de api_usage_metrics",
        "group": "usage",
        "recommendation": "CONSOLIDAR - Migrar datos y eliminar tabla duplicada"
      },
      {
        "table": "partner_usage_stats",
        "usage_count": 0,
        "reason": "Duplica funcionalidad de api_usage_metrics",
        "group": "usage",
        "recommendation": "CONSOLIDAR - Migrar datos y eliminar tabla duplicada"
      }
    ]
  },
  "recommendations": {
    "phase_1_keep": [
      "actividades_dpo",
      "activities",
      "agent_activity_log",
      "audit_log",
      "audit_logs",
      "categories",
      "compliance_records",
      "compliance_reports",
      "documentos_generados",
      "dpa_documents",
      "dpas",
      "dpia",
      "dpo_notifications",
      "eipd_documents",
      "empresas",
      "evaluaciones_impacto",
      "generated_documents",
      "legal_articles",
      "mapeo_datos_rat",
      "notifications",
      "organizaciones",
      "partner_access_logs",
      "proveedores",
      "rat_proveedores",
      "rats",
      "reports",
      "system_alerts",
      "system_config",
      "system_error_logs",
      "tenant_configs",
      "tenant_limits",
      "tenant_settings",
      "tenant_usage",
      "tenants",
      "user_help_stats",
      "user_notifications",
      "user_preferences",
      "user_sessions",
      "users",
      "usuarios"
    ],
    "phase_2_eliminate": [
      "agent_corrections",
      "ai_learning_patterns",
      "ai_prevenciones_log",
      "ai_validation_log",
      "arcopol",
      "autofix_log",
      "breaches",
      "client_companies",
      "company_quotas",
      "company_usage_metrics",
      "company_users",
      "company_workspaces",
      "compliance_triggers_log",
      "consents",
      "critical_incidents",
      "documentos_asociados",
      "evaluaciones_impacto_privacidad",
      "industry_configurations",
      "interviews",
      "migration_log",
      "modulos_acceso",
      "operation_validation_log",
      "partner_api_keys",
      "partner_usage_stats",
      "partner_webhooks",
      "persistence_validation_log",
      "rat_processes",
      "rat_saved_filters",
      "rat_snapshots",
      "review_queue",
      "sandbox_assessments",
      "sandbox_data_flows",
      "sandbox_generated_documents",
      "sandbox_rat_activities",
      "sandbox_sessions",
      "session_data",
      "system_stats",
      "training",
      "ai_supervision_log",
      "api_partners",
      "api_usage_metrics",
      "best_practices",
      "completion_log",
      "completion_templates",
      "documentos_dpa",
      "dpo_activities_fallback",
      "error_logs",
      "evaluaciones_seguridad",
      "field_progress",
      "finalidad_templates",
      "frontend_validation_reports",
      "help_content",
      "help_usage_log",
      "law_updates",
      "legal_rules",
      "partner_integrations",
      "partner_tokens",
      "rat_audit_trail",
      "rat_document_assignments",
      "rat_eipd_associations",
      "rule_execution_log",
      "sandbox_professional_templates",
      "semantic_validation_rules",
      "webhook_configs",
      "webhook_deliveries",
      "ia_agent_reports",
      "documentos_dpa",
      "session_data",
      "sandbox_sessions",
      "error_logs",
      "company_usage_metrics",
      "partner_usage_stats"
    ],
    "phase_3_consolidate": [
      {
        "table": "ia_agent_reports",
        "consolidate_into": "audit"
      },
      {
        "table": "documentos_dpa",
        "consolidate_into": "documents"
      },
      {
        "table": "session_data",
        "consolidate_into": "sessions"
      },
      {
        "table": "sandbox_sessions",
        "consolidate_into": "sessions"
      },
      {
        "table": "error_logs",
        "consolidate_into": "errors"
      },
      {
        "table": "company_usage_metrics",
        "consolidate_into": "usage"
      },
      {
        "table": "partner_usage_stats",
        "consolidate_into": "usage"
      }
    ]
  },
  "action_plan": [
    {
      "phase": 1,
      "action": "MANTENER TABLAS CRÍTICAS",
      "tables_count": 40,
      "description": "Conservar y optimizar tablas identificadas como críticas"
    },
    {
      "phase": 2,
      "action": "ELIMINAR TABLAS HUÉRFANAS",
      "tables_count": 38,
      "description": "Eliminar tablas sin uso en el código"
    },
    {
      "phase": 3,
      "action": "REVISAR/CONSOLIDAR REDUNDANTES",
      "tables_count": 34,
      "description": "Analizar y consolidar tablas con funcionalidad duplicada"
    }
  ]
}